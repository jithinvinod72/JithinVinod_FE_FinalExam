<html>
	<font size="8" color="green">Final test lab</font><br><br>
	Number of rows: <input type="text" id="t1" /><br><br>
	Number of cols: <input type="text" id="t2" /><br><br>
	
	<button id="b1" onclick="generateTable()">Generate Table</button><br><br>
	
	<button id="b2" onclick="addColumn()">Add Column</button>
	
	<button id="b3" onclick="addRow()">Add Row</button>
		
	<script language="javascript">
	function generateTable() {
	var numRows = document.getElementById('t1').value;
    var numCols = document.getElementById('t2').value;

    // Check if the user has entered both the number of rows and columns
	if (numRows.trim() === "" || numCols.trim() === "" || isNaN(numRows) || isNaN(numCols)) {
		alert("Please enter valid numbers for both the number of rows and columns.");
		return; 
	}

    numRows = parseInt(numRows);
    numCols = parseInt(numCols);

    var numRows = parseInt(document.getElementById('t1').value);
    var numCols = parseInt(document.getElementById('t2').value);
    var table = document.createElement('table');
	table.setAttribute('border', '1');
    for (var i = 0; i < numRows; i++) {
        var tr = document.createElement('tr');
        for (var j = 0; j < numCols; j++) {
            var td = document.createElement('td');
            td.appendChild(document.createTextNode('Row ' + i + ' Col ' + j));
            tr.appendChild(td);
        }
        table.appendChild(tr);
    }
    // Clear the existing content
    document.body.innerHTML = '';
    document.body.appendChild(table);
    
    // Re-adding the "Add Column" and "Add Row" buttons to add new column and row
    var addColButton = document.createElement('button');
    addColButton.innerText = 'Add Column';
    addColButton.onclick = addColumn;
    document.body.appendChild(addColButton);
    
    var addRowButton = document.createElement('button');
    addRowButton.innerText = 'Add Row';
    addRowButton.onclick = addRow;
    document.body.appendChild(addRowButton);
}


function addColumn() {
    var table = document.querySelector('table');
    if (table) {
        var rows = table.getElementsByTagName('tr');
        for (var i = 0; i < rows.length; i++) {
            var newCell = rows[i].insertCell(-1);
			newCell.style.color = 'red';
            newCell.innerHTML = `Row ${i} New Col ${table.rows[0].cells.length-1}`;
        }
    }
}

function addRow() {
    var table = document.querySelector('table');
    if (table) {
		let rows = table.getElementsByTagName('tr');
        var newRow = table.insertRow(-1);
        for (var i = 0; i < table.rows[0].cells.length; i++) {
            var newCell = newRow.insertCell(-1);
			newCell.style.color = 'Green';
            newCell.innerHTML = `New Row ${rows.length-1} Col ${i}`;
        }
    }
}
</script>
	
</html>